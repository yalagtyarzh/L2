```go
package main

import (
	"fmt"
)

func test() (x int) {
	defer func() {
		x++
	}()
	x = 1
	return
}

func anotherTest() int {
	var x int
	defer func() {
		x++
	}()
	x = 1
	return x
}

func main() {
	fmt.Println(test())
	fmt.Println(anotherTest())
}
```

Ответ:
```
defer используется для отложенного вызова функции. Они всегда выполняются перед выходим из внешней функции, в которой 
defer объявлялась. В коде все defer функции выполняются снизу вверх. Если говорить это в контексте расположения в памяти,
то они по порядку вызова закидываются в стэк и после основного выполнения функции все defer функции выполняются начиная
с последней сложенной в стэк к первой.

Что примечательно, аргументы, передаваемые в defer функции, вычисляются сразу же и задаются на момент передачи их в
функцию

В первом случае у нас возвращается 2. Тут дело в именованном значении, которое мы можем изменять внутри функции 
с помощью defer функций даже после return

Во втором же случае у нас возвращается 1. Тут дело уже в том, что в данной функции мы возвращаем значения переменной x,
а не ее саму, потому вызываемые defer функции никакого отношения к возвращаемому значению не имеют. Ситуация меняется,
если вместо со значение мы работаем с ссылкой, в таком случае результат становиться схожим с первым вариантом.
```